{"name": "test_004[module: test, case_id: event_upload_004, case_desc: 测试文件上传, is_run: None, method: post, env: None, url: https://api.anonfiles.com/upload, params: None, headers: None,data_type: None,data: None,files: {'file': 'D:\\\\0000000000_test\\\\666.txt'},sql: None,assert: None,]", "status": "broken", "statusDetails": {"message": "AttributeError: __enter__", "trace": "self = <fastpt.testcase.test_project.test_api.TestDemo object at 0x00000204E2213490>\ndata = {'assert': None, 'case_desc': '测试文件上传', 'case_id': 'event_upload_004', 'data': None, ...}\n\n    @allure.story(\"yaml数据测试输出\")\n    @pytest.mark.test_api\n    @pytest.mark.parametrize('data', yaml_data, ids=yaml_ids)\n    def test_004(self, data):\n        \"\"\" 测试004 \"\"\"\n>       rp = send_request.send_request(data)\n\ntestcase\\test_project\\test_api.py:64: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\send_request.py:117: in send_request\n    self.allure_request_up(parsed_data)\ncommon\\send_request.py:186: in allure_request_up\n    allure_attach_file(parsed.files_no_parse)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nfilepath = {'file': 'D:\\\\\\\\0000000000_test\\\\\\\\666.txt'}, name = None\nextension = None\n\n    def allure_attach_file(filepath: dict, name=None, extension=None):\n        \"\"\"\n        allure 报告上传附件\n    \n        :param filepath: 文件路径\n        :param name:\n        :param extension:\n        :return:\n        \"\"\"\n        for k, v in filepath.items():\n            file_pp = get_file_property(v)\n            filename = file_pp[0]\n            filetype = file_pp[2]\n>           with allure.attach.file(\n                    source=v,\n                    name=filename if name is None else name,\n                    attachment_type=getattr(AllureAttachmentType, filetype.upper(), None),\n                    extension=extension\n            ):\nE           AttributeError: __enter__\n\nutils\\allure\\upload_files.py:42: AttributeError"}, "description": " 测试004 ", "attachments": [{"name": "666.txt", "source": "87d842e5-62f6-435a-9ae9-b6681114d7e9-attachment.attach", "type": ["text/plain", "txt"]}, {"name": "stderr", "source": "98f50451-9db3-4f09-8c5e-3cd28488eb35-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'module': 'test', 'case_id': 'event_upload_004', 'case_desc': '测试文件上传', 'is_run': None, 'method': 'post', 'env': None, 'url': 'https://api.anonfiles.com/upload', 'params': None, 'headers': None, 'data_type': None, 'data': None, 'files': {'file': 'D:\\\\\\\\0000000000_test\\\\\\\\666.txt'}, 'sql': None, 'assert': None}"}], "start": 1658741899294, "stop": 1658741899309, "uuid": "96ccff9c-7caa-43d4-a326-688bf1358a86", "historyId": "9e2893756197a349dde87d26a5922bab", "testCaseId": "1624834a7fba0b30959ec9965c07f77f", "fullName": "testcase.test_project.test_api.TestDemo#test_004", "labels": [{"name": "epic", "value": "demo接口"}, {"name": "story", "value": "yaml数据测试输出"}, {"name": "feature", "value": "demo模块"}, {"name": "tag", "value": "test_api"}, {"name": "parentSuite", "value": "testcase.test_project"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestDemo"}, {"name": "host", "value": "wjh"}, {"name": "thread", "value": "14804-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_project.test_api"}]}